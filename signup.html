<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Create Account â€¢ Les NGANYIRA</title>
</head>
<body>
  <h1>Create account</h1>
  <input id="firstName" placeholder="First name" />
  <input id="lastName" placeholder="Last name" />
  <input id="email" type="email" placeholder="Email" />
  <input id="password" type="password" placeholder="Password" />
  <button id="btnSignup">Create account</button>
  <div id="msg"></div>

  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyA5su24dQrXZUrsZAtUOTptDbPQ2tT6iig",
      authDomain: "lesnganyira.firebaseapp.com",
      projectId: "lesnganyira",
      storageBucket: "lesnganyira.firebasestorage.app",
      messagingSenderId: "456037694600",
      appId: "1:456037694600:web:fec39a23af5bcaa3ccb33d",
      measurementId: "G-TWBDL05VYZ"
    };
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();

    document.getElementById('btnSignup').addEventListener('click', async () => {
      const firstName = document.getElementById('firstName').value.trim();
      const lastName = document.getElementById('lastName').value.trim();
      const email = document.getElementById('email').value.trim();
      const password = document.getElementById('password').value;
      try {
        const { user } = await auth.createUserWithEmailAndPassword(email, password);
        await user.updateProfile({ displayName: `${firstName} ${lastName}` });
        await user.sendEmailVerification();
        sessionStorage.setItem('verifyEmailHint', email);
        location.href = 'verify.html';
      } catch (e) {
        document.getElementById('msg').textContent = e.message;
      }
    });
  </script>
</body>
</html>
