<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Verify Email â€¢ Les NGANYIRA</title>
</head>
<body>
  <h1>Check your inbox</h1>
  <p id="hint"></p>
  <button id="btnResend">Resend verification email</button>

  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyA5su24dQrXZUrsZAtUOTptDbPQ2tT6iig",
      authDomain: "lesnganyira.firebaseapp.com",
      projectId: "lesnganyira",
      storageBucket: "lesnganyira.firebasestorage.app",
      messagingSenderId: "456037694600",
      appId: "1:456037694600:web:fec39a23af5bcaa3ccb33d",
      measurementId: "G-TWBDL05VYZ"
    };
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();

    document.getElementById('hint').textContent =
      'Verification email yoherejwe kuri: ' + (sessionStorage.getItem('verifyEmailHint') || '');

    document.getElementById('btnResend').addEventListener('click', async () => {
      const user = auth.currentUser;
      if (user) {
        await user.sendEmailVerification();
        alert('Verification email re-sent!');
      } else {
        alert('Sign in first to resend verification email.');
        location.href = 'signin.html';
      }
    });
  </script>
</body>
</html>
